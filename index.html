<html>
<body>
<div class="nav">
	<button onclick="SetActivity(0)">Back</button>
	<button onclick="SetActivity(1)">Recipes</button>
	<button onclick="SetActivity(3)">Recipe</button>
	<button onclick="SetActivity(2)">Ingredients</button>
	<!-- Activities / Pages -->
	<div class="activity" id="welcome_page">
		<!--
			User actions available on welcome page:
			- View Recipes
			- View Ingredients Catalogue
		-->
	</div>
	<div class="activity" id="recipes_page">
		<!--
			User actions available on welcome page:
			- Store/Add New Recipes
			- View & Search Stored Recipes
			- Edit Stored Recipes
			- Copy Stored Recipes
			- Delete Stored Recipes
		-->
	</div>
	<div class="activity" id="ingredients_page">
		<!--
			User actions available on welcome page:
			- Store/Add New Ingredients
			- View & Search Ingredients
			- Edit Ingredients
			- Delete Ingredients
		-->
	</div>
	<div class="activity" id="edit_recipe_page">
		<div class="stat">
			<p class="stat_label">Total Weight</p>
			<p class="stat_value">Test Value</p>
		</div>
		<div class="stat">
			<p class="stat_label">Total Calories</p>
			<p class="stat_value">Test Value</p>
		</div>
		<div class="stat">
			<p class="stat_label">Total Protein</p>
			<p class="stat_value">Test Value</p>
		</div>
		<div class="stat">
			<p class="stat_label">Total Fat</p>
			<p class="stat_value">Test Value</p>
		</div>
		<div class="stat">
			<p class="stat_label">Total Carbohydrates</p>
			<p class="stat_value">Test Value</p>
		</div>
		<div class="stat">
			<p class="stat_label">Total Sugar</p>
			<p class="stat_value">Test Value</p>
		</div>
		<div class="stat">
			<p class="stat_label">Total Fiber</p>
			<p class="stat_value">Test Value</p>
		</div>
		<div class="stat">
			<p class="stat_label">Protein : Calorie Ratio</p>
			<p class="stat_value">Test Value</p>
		</div>
	</div>
	<div class="activity" id="edit_ingredient_page"></div>
	<!-- Modals -->
	<div class="modal" id="view_recipe_modal"></div>
	<div class="modal" id="search_ingredient_modal"></div>
	<div class="modal" id="view_ingredient_modal"></div>
</div>
</body>
<style>
body {
	font-size: 100%;
	background-color: aqua;
}

p, button, th {
	font-size: 2vh;
}

.nav, .activity, .modal {
	top: 0;
	width: min(100vw, 80vh);
	left: calc(50vw - min(50vw, 40vh));
	position: fixed;
}

.nav {
	height: 2.5em;
	background-color: chocolate;
}

.activity, .modal {
	height: 100%;
	visibility: hidden;
	margin-top: 2.5em;
}

.stat {
	text-align: center;
	font-weight: bold;
	display: inline-block;
}

.stat_label {
	outline: 1px solid black;
	padding: 5px;
	margin: 5px;
	margin-bottom: 0px;
}

.stat_value {
	outline: 1px solid black;
	padding: 5px;
	margin: 5px;
	margin-top: 0px;
}

#welcome_page { background-color: blue; }
#recipes_page { background-color: brown; }
#edit_recipe_page { background-color: brown; }
#ingredients_page { background-color: orange;}
#add_ingredient_modal { background-color: yellow; }
#select_ingredient_modal { background-color: greenyellow; }
</style>
<script>
// We may need to create an activity stack for use with the back button, or we could just
// go straight back to the welcome page (ie. back to root)
var CurrentActivity = 1;

var Activities = [
	document.getElementById("welcome_page"),
	document.getElementById("recipes_page"),
	document.getElementById("ingredients_page"),
	document.getElementById("edit_recipe_page"),
	document.getElementById("edit_ingredient_page"),
];

var Modals = [
	document.getElementById("search_ingredient_modal"),
	document.getElementById("view_ingredient_modal"),
];

Activities[CurrentActivity].style.visibility = "visible";

function SetActivity(activity) {
	Activities[CurrentActivity].style.visibility = "hidden";
	CurrentActivity = activity;
	Activities[CurrentActivity].style.visibility = "visible";
}

class Category {
	constructor(label, property_name) {
		this.label = label;
		this.property_name = property_name;
		Object.freeze(this);
	}
}

// Do we need this, or should we just copy the code where we need it?
// function get_ingredient_value(ingredient, category) {
// 	return ingredient[category.label];
// }

const NutrientCategories = [
	new Category("Calories", "calories"),
	new Category("Protein", "protein"),
	new Category("Fat", "fat"),
	new Category("Carbohydrates", "carbohydrates"),
	new Category("Sugar", "sugar"),
	new Category("Fiber", "fiber"),
];

function GenerateStatTables(parent, categories, prefix = "", suffix = "") {
	for (var i=0; i<categories.length; i++) {
		var d = document.createElement("div");
		d.className = "stat";

		var l = document.createElement("p");
		l.className = "stat_label";

		var v = document.createElement("p");
		v.className = "stat_value";
	}
}

GenerateStatTables(document.getElementById("edit_recipe_page"), NutrientCategories);

class Ingredient {
	constructor(name, price = 0, cal = 0, prot = 0, fat = 0, carb = 0, sugar = 0, fiber = 0) {
		this.name = name;
		this.price = price; // Per serve
		this.calories = cal; // Per serve
		this.protein = prot; // Per serve, grams
		this.fat = fat; // Per serve, grams
		this.carbohydrates = carb; // Per serve, grams
		this.sugar = sugar; // Per serve, grams
		this.fiber = fiber; // Per serve, grams
	}
}

var Catalogue = [
	// Ingredient 1
	// Ingredient 2
	// Ingredient 3
	// Etc
];
</script>